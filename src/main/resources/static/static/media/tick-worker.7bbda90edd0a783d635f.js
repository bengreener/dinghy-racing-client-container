let ticker,dateOffset=Date.now()-performance.now();function startTicker(){const e=e=>{ticker=setTimeout((()=>{postMessage(null),e(e)}),1001-(performance.now()+dateOffset)%1e3)};e(e)}function stopTicker(){clearInterval(ticker)}onmessage=function(e){switch(e.data){case"start":startTicker();break;case"stop":stopTicker();break;default:console.log(`tick-worker: Unknown command: ${e.data}`)}};